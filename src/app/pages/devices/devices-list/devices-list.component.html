<div class="nav mb-0">
	<div class="col-12 col-md-5 p-0 pb-3">
	  <div class="d-flex justify-content-between w-100">
		<a type="button navb" routerLink="/devices" class="btn btn-info navb me-3" [ngClass]="{'disabled': this.ruta=='/devices'}">{{ 'sensors.t1' | translate }}</a>
		<a type="button" routerLink="/sensors" class="btn btn-info navb" [ngClass]="{'disabled': this.ruta=='/sensors'}">{{ 'sensors.t2' | translate }}</a>
	  </div>
	</div>
	<div class="col-6 col-md-3 pb-3 ps-3">
    <div *ngIf="dup_ok" class="alert alert-success py-1 m-0" style="width: max-content;" role="alert">
        {{ 'devices.list.e1' | translate }}
      </div>
      <div *ngIf="dup_not" class="alert alert-danger py-1 m-0" style="width: max-content;" role="alert">
        {{ 'devices.list.e2' | translate }}
      </div>
  </div>
  <div class="col-6 col-md-4 p-0 ">
		<div class="row">
			<div class="col-12 p-0 pb-3">
				<div class="d-flex justify-content-end">
					<div class="d-flex justify-content-end pe-3">
						<button type="button" class="btn btn-secondary" [ngClass]="{'active': activeLang == 'es'}" (click)="cambiarLenguaje('es')">Espa√±ol</button>
						<button type="button" class="btn btn-secondary ms-3" [ngClass]="{'active': activeLang == 'en'}" (click)="cambiarLenguaje('en')">English</button>
					</div>
					<div class="d-none d-xl-block pe-3">
						<div class="d-flex justify-content-end">
							<img src="../../assets/logo.png" width="350px">
						</div>
					</div>
				</div>
			</div>
	  </div>
	</div>
</div>

<div class="cc2 cont" > <!-- Devices -->
  <div class="p-3 pb-0">
    <div class="row d-flex" style="justify-content: space-around">

        <div class="col-3 col-sm-2 col-lg-1 pe-2">
          <div class="btn-group">
            <button type="button" class="btn" (click)="cont=true">
              <svg *ngIf="!ver_list" (mouseover)="ver_list=true" xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-list-task mb-1" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M2 2.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5H2zM3 3H2v1h1V3z"/>
                <path d="M5 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM5.5 7a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9zm0 4a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9z"/>
                <path fill-rule="evenodd" d="M1.5 7a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V7zM2 7h1v1H2V7zm0 3.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5H2zm1 .5H2v1h1v-1z"/>
              </svg>
              <svg *ngIf="ver_list" (mouseout)="ver_list=false" xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-list-task mb-1" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>
              </svg>
            </button>
            <button type="button" class="btn" (click)="cont=false">
              <svg *ngIf="!ver_map" (mouseover)="ver_map=true" xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-map mb-2" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M15.817.113A.5.5 0 0 1 16 .5v14a.5.5 0 0 1-.402.49l-5 1a.502.502 0 0 1-.196 0L5.5 15.01l-4.902.98A.5.5 0 0 1 0 15.5v-14a.5.5 0 0 1 .402-.49l5-1a.5.5 0 0 1 .196 0L10.5.99l4.902-.98a.5.5 0 0 1 .415.103zM10 1.91l-4-.8v12.98l4 .8V1.91zm1 12.98 4-.8V1.11l-4 .8v12.98zm-6-.8V1.11l-4 .8v12.98l4-.8z"></path>
              </svg>
              <svg *ngIf="ver_map" (mouseout)="ver_map=false" xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-map-fill mb-2" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M16 .5a.5.5 0 0 0-.598-.49L10.5.99 5.598.01a.5.5 0 0 0-.196 0l-5 1A.5.5 0 0 0 0 1.5v14a.5.5 0 0 0 .598.49l4.902-.98 4.902.98a.502.502 0 0 0 .196 0l5-1A.5.5 0 0 0 16 14.5V.5zM5 14.09V1.11l.5-.1.5.1v12.98l-.402-.08a.498.498 0 0 0-.196 0L5 14.09zm5 .8V1.91l.402.08a.5.5 0 0 0 .196 0L11 1.91v12.98l-.5.1-.5-.1z"/>
              </svg>

              
            </button>
          </div>
        </div>

        <div class="col-9 col-sm-6 col-lg-3 mb-3">
          <div class="input-group w-100">
              <input (keyup)="onKeySearch($event)" [(ngModel)]="busqueda.value" type="text" class="form-control" placeholder="{{ 'sensors.buscar_dispositivos' | translate }}" aria-label="Recipient's username" aria-describedby="basic-addon2">
              <div class="input-group-append">
                <button class="btn btn-outline-secondary" type="button" (click)="borrar()">{{ 'sensors.erase' | translate }}</button>
              </div>
          </div>
        </div>
        

        <div class="col-6 col-sm-2 col-lg-2 mb-3">
          <select (ngModelChangeget)="get('xd')"  class="form-select" aria-label="Default select example" id="sel_type" [name]="'sel_type'" [(ngModel)]="busqueda.sel_type" >
              <option selected value="0">{{ 'sensors.l1' | translate }}</option>
            <ng-container *ngFor="let xd of contenido1.sensors;let j=index">
              <option value="{{xd.id}}">{{xd.type}}</option>
            </ng-container>
          </select>
        </div>

        <div class="col-6 col-sm-2 col-lg-2 mb-3">
          <select  (ngModelChange)="get('xd')" class="form-select" aria-label="Default select example" id="sel_enable" name="sel_enable" [(ngModel)]="busqueda.sel_enable">
            <option selected [ngValue]="2">{{ 'sensors.l2' | translate }}</option>
            <option [ngValue]="0">{{ 'sensors.enable' | translate }}</option>
            <option [ngValue]="1">{{ 'sensors.disable' | translate }}</option>
          </select>
        </div>


        <div class="col-12 col-sm-12 col-lg-4 d-flex " style="justify-content: flex-end;">
          <div>
            <button type="button" class="btn btn-info" routerLink="/devices/new/{{this.id}}">{{ 'devices.edit.new_device' | translate }}</button>
          </div>
          <div *ngIf="cont" class="ps-3">
            <nav aria-label="Page navigation example" style="width: max-content;">
                  <ul class="pagination">
                    <li class="page-item"><a class="page-link" href="#">{{ 'sensors.ant' | translate }}</a></li>
                    <li class="page-item"><a class="page-link" href="#">1</a></li>
                    <li class="page-item"><a class="page-link" href="#">2</a></li>
                    <li class="page-item"><a class="page-link" href="#">3</a></li>
                    <li class="page-item"><a class="page-link" href="#">{{ 'sensors.sig' | translate }}</a></li>
                  </ul>
            </nav>
          </div>
      </div>
    </div>	

  </div>

  <div class="p-4 pt-0" *ngIf="cont==true">
    <div class="row">
      <div class="over p-0 " style="height: 77vh;"> 
        <div class="col-12"> 
            <table class="table table-hover" >
                <thead>
                  <tr>
                    <th style="cursor: pointer;" (click)="get('id')" scope="col">Id</th>
                    <th style="cursor: pointer;" (click)="get('uid')" scope="col">{{ 'devices.edit.uid' | translate }}</th>
                    <th class="d-none d-md-none d-lg-block" style="cursor: pointer;" (click)="get('topic_name')" scope="col">{{ 'devices.edit.topic' | translate }}</th>
                    <th style="cursor: pointer;" (click)="get('application_id')" scope="col">{{ 'devices.edit.aplication' | translate }}</th>
                    <th style="cursor: pointer;" (click)="get('enable')" scope="col">{{ 'sensors.enable' | translate }}</th>
                    <th class="d-none d-md-none d-lg-block">{{ 'sensors.sensors' | translate }}</th>
                    <th scope="col" style="text-align: center;">{{ 'sensors.duplicate' | translate }}</th>
                    <th class="d-none d-md-none d-lg-block" style="text-align: center;">{{ 'sensors.edit' | translate }}</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let quote of data" style="cursor: pointer;">
                    <th [routerLink]="['/devices/edit/', quote.id]" scope="col">{{ quote.id }}</th>
                    <td [routerLink]="['/devices/edit/', quote.id]" scope="col">{{ quote.uid }}</td>
                    <td class="d-none d-md-none d-lg-block" [routerLink]="['/devices/edit/', quote.id]" scope="col">{{ quote.topic_name }}</td>
                    <td [routerLink]="['/devices/edit/', quote.id]" scope="col">{{ quote.application_id }}</td>
                    <td [routerLink]="['/devices/edit/', quote.id]" scope="col">
                      <span class="badge rounded-pill text-bg-success d-inline-block" [class]="{'d-none': quote.enable==0}"><p class="mb-0 d-none d-md-none d-lg-block">{{ 'sensors.enable' | translate }}</p></span>
                      <span class="badge rounded-pill text-bg-danger d-inline-block" [class]="{'d-none': quote.enable==1}"><p class="mb-0 d-none d-md-none d-lg-block">{{ 'sensors.disable' | translate }}</p></span>
                    </td>
                    <td scope="col" [routerLink]="['/devices/edit/', quote.id]" class="d-none d-lg-none d-xl-block d-flex">
                      <div *ngFor="let quote2 of quote.sensor" style="display: inline-block; height: min-content;">
                        <span class="badge rounded-pill text-bg-success d-inline-block me-2" [class]="{'d-none': quote2.enable==0}"><p class="mb-0 d-none d-md-none d-lg-block">{{ quote2.type_name }}</p></span>
                        <span class="badge rounded-pill text-bg-danger d-inline-block me-2" [class]="{'d-none': quote2.enable==1}"><p class="mb-0 d-none d-md-none d-lg-block">{{ quote2.type_name }}</p></span>
                      </div>
                      <ng-container *ngIf="quote.sensor!=undefined">
                        <div *ngIf="quote.sensor.length==0" style="display: inline-block; height: min-content;">
                          <p class="m-0">{{ 'sensors.sin_sensores' | translate }}</p>
                        </div>
                      </ng-container>
                    </td>
                    <td style="text-align: center;" (click)="duplicate(quote.id)">                      
                      <svg *ngIf="!ver_dup" (mouseover)="ver_dup=true" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-clipboard-plus" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M8 7a.5.5 0 0 1 .5.5V9H10a.5.5 0 0 1 0 1H8.5v1.5a.5.5 0 0 1-1 0V10H6a.5.5 0 0 1 0-1h1.5V7.5A.5.5 0 0 1 8 7z"/>
                        <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
                        <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
                      </svg>
                      <svg *ngIf="ver_dup" (mouseout)="ver_dup=false" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-clipboard2-plus-fill" viewBox="0 0 16 16">
                        <path d="M10 .5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5.5.5 0 0 1-.5.5.5.5 0 0 0-.5.5V2a.5.5 0 0 0 .5.5h5A.5.5 0 0 0 11 2v-.5a.5.5 0 0 0-.5-.5.5.5 0 0 1-.5-.5Z"/>
                        <path d="M4.085 1H3.5A1.5 1.5 0 0 0 2 2.5v12A1.5 1.5 0 0 0 3.5 16h9a1.5 1.5 0 0 0 1.5-1.5v-12A1.5 1.5 0 0 0 12.5 1h-.585c.055.156.085.325.085.5V2a1.5 1.5 0 0 1-1.5 1.5h-5A1.5 1.5 0 0 1 4 2v-.5c0-.175.03-.344.085-.5ZM8.5 6.5V8H10a.5.5 0 0 1 0 1H8.5v1.5a.5.5 0 0 1-1 0V9H6a.5.5 0 0 1 0-1h1.5V6.5a.5.5 0 0 1 1 0Z"/>
                      </svg>
                    </td>
                    <td [routerLink]="['/devices/edit/', quote.id]" style="text-align: center;">
                      <svg *ngIf="!pencil_dup" (mouseover)="pencil_dup=true" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-pencil" viewBox="0 0 16 16">
                        <path d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"/>
                      </svg>
                      <svg *ngIf="pencil_dup" (mouseout)="pencil_dup=false" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-fill" viewBox="0 0 16 16">
                        <path d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"/>
                      </svg>
                  </tr>
                </tbody>
              </table>
        </div> 
        </div>
      </div>
  </div>	


  <div class="p-4 pt-0" *ngIf="cont==false">
    <div class="row" style="height: 78vh;"> <!-- Devices -->
      <img src="https://web.ua.es/ar/sigua/imagenes/carrusel/sigua.png" class="p-0" height="100%">
    </div>
  </div>


</div> <!-- end Devices -->



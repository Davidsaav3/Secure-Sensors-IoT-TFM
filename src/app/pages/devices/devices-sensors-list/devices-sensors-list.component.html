<div class="" *ngIf="sin"> <!-- Devices -->	
	<div class="row">
		<div class="col-3"> <!-- Buscar -->
            <button type="button" (click)="anyadir()" class="btn btn-info">Nuevo sensor</button>
		</div>
		<div class="col-9 d-flex justify-content-end"> <!-- Paginador -->
			<div *ngIf="act_ok" class="alert alert-success me-3 py-1" role="alert">
				¡ Dispositivo activado !
			  </div>
			  <div *ngIf="act_not" class="alert alert-success me-3 py-1" role="alert">
				Error al activar el dispositivo
			  </div>
			  <div *ngIf="eliminar_ok" class="alert alert-success me-3 py-1" role="alert">
				¡ Sensor eliminado !
			  </div>
			  <div *ngIf="eliminar_not" class="alert alert-success me-3 py-1" role="alert">
				Error al eliminar el dispositivo
			  </div>

			<nav aria-label="Page navigation example">
				<ul class="pagination">
				  <li class="page-item"><a class="page-link" href="#">Anterior</a></li>
				  <li class="page-item"><a class="page-link" href="#">1</a></li>
				  <li class="page-item"><a class="page-link" href="#">2</a></li>
				  <li class="page-item"><a class="page-link" href="#">3</a></li>
				  <li class="page-item"><a class="page-link" href="#">Siguiente</a></li>
				</ul>
			</nav>
		</div>
	</div>	

	<div class="row">
		<div class="col-12"> 
			<div class="over" style="max-height: 40vh;"> 
			<table class="table">
				<thead>
				  <tr>
                    <th scope="col">Order</th>
					<th scope="col">Type</th>
					<th scope="col">Datafield</th>
					<th scope="col">Nodata</th>
					<th scope="col">Activado</th>
					<th scope="col" style="text-align: center;">Eliminar</th>
				  </tr>
				</thead>
				<tbody *ngFor="let item of contenido.sensors;let i=index">
                    <tr style="overflow-y: scroll;">
                        <th scope="col2"><input type="text" class="form-control" id="orden" [name]="'orden'+i" [(ngModel)]="item.orden"></th>
                        <th scope="col"> 
							<select class="form-select" aria-label="Default select example" id="type_name" [name]="'type_name'+i" [(ngModel)]="item.type_name">
								<option *ngFor="let xd of contenido1.sensors;let j=index" [selected]="{'selected': xd.id==item.id_type_sensor}">{{xd.type}}</option>
							</select>
						</th>
                        <td><input type="text" class="form-control" id="datafield" [name]="'datafield'+i" [(ngModel)]="item.datafield"></td>
                        <td><input type="text" class="form-control" id="nodata" [name]="'nodata'+i" [(ngModel)]="item.nodata"></td>
                        <td class="d-flex">
							<label class="toggle t2 tt2 mt-1 mb-3">
								<input type="checkbox" [name]="'enable'+i" checked [(ngModel)]="item.enable">
								<span class="slider"></span>
								<span class="labels t2" data-on="Activado" data-off="Desactivado"></span>
							</label>
                        </td>
                        <td style="text-align: center;" data-bs-target="#exampleModal3" data-bs-toggle="modal" (click)="vari(item.id)">
                            <svg style="cursor: pointer;" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-trash2" viewBox="0 0 16 16">
                                <path d="M14 3a.702.702 0 0 1-.037.225l-1.684 10.104A2 2 0 0 1 10.305 15H5.694a2 2 0 0 1-1.973-1.671L2.037 3.225A.703.703 0 0 1 2 3c0-1.105 2.686-2 6-2s6 .895 6 2zM3.215 4.207l1.493 8.957a1 1 0 0 0 .986.836h4.612a1 1 0 0 0 .986-.836l1.493-8.957C11.69 4.689 9.954 5 8 5c-1.954 0-3.69-.311-4.785-.793z"/>
                            </svg>
							<!--<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-trash2-fill" viewBox="0 0 16 16">
								<path d="M2.037 3.225A.703.703 0 0 1 2 3c0-1.105 2.686-2 6-2s6 .895 6 2a.702.702 0 0 1-.037.225l-1.684 10.104A2 2 0 0 1 10.305 15H5.694a2 2 0 0 1-1.973-1.671L2.037 3.225zm9.89-.69C10.966 2.214 9.578 2 8 2c-1.58 0-2.968.215-3.926.534-.477.16-.795.327-.975.466.18.14.498.307.975.466C5.032 3.786 6.42 4 8 4s2.967-.215 3.926-.534c.477-.16.795-.327.975-.466-.18-.14-.498-.307-.975-.466z"/>
							  </svg>-->
                        </td>
                    </tr>
				</tbody>
			  </table>
			  </div>
		</div> 
	</div>	

</div> <!-- end Sensors -->


<div class="text-center" *ngIf="!sin">
	<h3>Añade sensores a este dispositivo</h3>
	<button type="button" (click)="anyadir()" class="btn btn-info">Nuevo sensor</button>
</div>

<div class="modal fade" id="exampleModal3" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header" style="border-bottom: 0px;">
            <h3 class="modal-title">Eliminar sensor ?</h3>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body" >
            <p class="not">Esta acción no es rebersible. Se borrará definitivamente este sensor.</p>
          </div>
          <div class="modal-footer" style="border-top: 0px;">
            <div class="row">
                <div class="col-6">
                    <button type="button" class="btn btn-secondary text-light" data-bs-dismiss="modal">Cancelar</button>
                </div>
                <div class="col-6">
                    <button type="button" class="btn btn-danger" data-bs-dismiss="modal" (click)="eliminar()">Eliminar</button>
                </div>
            </div>
          </div>
        </div>
      </div>
</div>